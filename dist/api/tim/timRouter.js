"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const timController_1 = require("./timController");
const pesertaController_1 = require("@api/peserta/pesertaController");
const pengumpulanController_1 = require("@api/pengumpulan/pengumpulanController");
const authService_1 = require("@lib/authService");
const router = express_1.Router();
const controller = new timController_1.TimController();
const pesertaController = new pesertaController_1.PesertaController();
const pengumpulanController = new pengumpulanController_1.PengumpulanController();
router.get("/", controller.index);
router.get("/:_id", controller.show);
router.post("/", controller.store);
router.post("/login", controller.authenticate);
router.put("/:_id", authService_1.authenticateUser, controller.update);
router.delete("/:_id", authService_1.authenticateUser, controller.destroy);
router.get("/:_idtim/peserta", pesertaController.index);
router.get("/:_idtim/peserta/:_id", pesertaController.show);
router.post("/:_idtim/peserta", pesertaController.store);
router.put("/:_idtim/peserta/:_id", authService_1.authenticateUser, pesertaController.update);
router.delete("/:_idtim/peserta/:_id", authService_1.authenticateUser, pesertaController.destroy);
router.use(authService_1.authenticateUser);
router.get("/:_idtim/pengumpulan", pengumpulanController.index);
router.get("/:_idtim/pengumpulan/:_id", pengumpulanController.show);
router.post("/:_idtim/pengumpulan", pengumpulanController.store);
router.put("/:_idtim/pengumpulan/:_id", pengumpulanController.update);
router.delete("/:_idtim/pengumpulan/:_id", pengumpulanController.destroy);
exports.TimRouter = router;
